{"version":3,"names":["LocalParticipant","get","binder","internalEvents","props","roomId","localParticipant","_updateInternal","constructor","_binder","nativeModule","muteMicrophone","ControllableModuleType","GROUP_CALL","_roomId","_props","isAudioEnabled","_internalEvents","emit","unmuteMicrophone","stopVideo","isVideoEnabled","startVideo","switchCamera","participantId","user","state","enteredAt","exitedAt","duration","updatedAt"],"sources":["LocalParticipant.ts"],"sourcesContent":["import type { LocalParticipantMethods, ParticipantProperties, RoomListener } from '../types';\nimport { ControllableModuleType } from '../types';\nimport type NativeBinder from './NativeBinder';\nimport { InternalEvents } from './Room';\n\nexport class LocalParticipant implements ParticipantProperties, LocalParticipantMethods {\n  /** @internal **/\n  public static get(\n    binder: NativeBinder,\n    internalEvents: InternalEvents<RoomListener>,\n    props: ParticipantProperties | null,\n    roomId: string,\n  ) {\n    if (!props) return null;\n\n    const localParticipant = new LocalParticipant(binder, internalEvents, props, roomId);\n    return localParticipant._updateInternal(props);\n  }\n\n  constructor(\n    binder: NativeBinder,\n    internalEvents: InternalEvents<RoomListener>,\n    props: ParticipantProperties,\n    roomId: string,\n  ) {\n    this._binder = binder;\n    this._internalEvents = internalEvents;\n    this._props = props;\n    this._roomId = roomId;\n  }\n\n  private _binder: NativeBinder;\n  private _props: ParticipantProperties;\n  private _internalEvents: InternalEvents<RoomListener>;\n  private _roomId: string;\n\n  private _updateInternal(props: ParticipantProperties) {\n    this._props = props;\n    return this;\n  }\n\n  public get participantId() {\n    return this._props.participantId;\n  }\n  public get user() {\n    return this._props.user;\n  }\n  public get state() {\n    return this._props.state;\n  }\n  public get enteredAt() {\n    return this._props.enteredAt;\n  }\n  public get exitedAt() {\n    return this._props.exitedAt;\n  }\n  public get duration() {\n    return this._props.duration;\n  }\n  public get isAudioEnabled() {\n    return this._props.isAudioEnabled;\n  }\n  public get isVideoEnabled() {\n    return this._props.isVideoEnabled;\n  }\n  public get updatedAt() {\n    return this._props.updatedAt;\n  }\n\n  /**\n   * Mutes the audio of the local user.\n   * Will trigger {@link RoomListener.onRemoteAudioSettingsChanged} method of remote participants.\n   * If the remote user changes their audio settings, the local user will be notified via the same method.\n   *\n   * @since 1.0.0\n   */\n  public muteMicrophone = () => {\n    this._binder.nativeModule.muteMicrophone(ControllableModuleType.GROUP_CALL, this._roomId);\n\n    // NOTE: native doesn't have onLocalAudioSettingsChanged event\n    this._props.isAudioEnabled = false;\n    this._internalEvents.emit('onPropertyUpdatedManually', this);\n  };\n\n  /**\n   * Unmutes the audio of the local user.\n   * Will trigger {@link RoomListener.onRemoteAudioSettingsChanged} method of remote participants.\n   * If the remote user changes their audio settings, the local user will be notified via the same method.\n   *\n   * @since 1.0.0\n   */\n  public unmuteMicrophone = () => {\n    this._binder.nativeModule.unmuteMicrophone(ControllableModuleType.GROUP_CALL, this._roomId);\n\n    // NOTE: native doesn't have onLocalAudioSettingsChanged event\n    this._props.isAudioEnabled = true;\n    this._internalEvents.emit('onPropertyUpdatedManually', this);\n  };\n\n  /**\n   * Unmutes the audio of the local user.\n   * Will trigger {@link RoomListener.onRemoteVideoSettingsChanged} method of remote participants.\n   * If the remote user changes their video settings, the local user will be notified via the same method.\n   *\n   * @since 1.0.0\n   */\n  public stopVideo = () => {\n    this._binder.nativeModule.stopVideo(ControllableModuleType.GROUP_CALL, this._roomId);\n\n    // NOTE: native doesn't have onLocalAudioSettingsChanged event\n    this._props.isVideoEnabled = false;\n    this._internalEvents.emit('onPropertyUpdatedManually', this);\n  };\n\n  /**\n   * Unmutes the audio of the local user.\n   * Will trigger {@link RoomListener.onRemoteVideoSettingsChanged} method of remote participants.\n   * If the remote user changes their video settings, the local user will be notified via the same method.\n   *\n   * @since 1.0.0\n   */\n  public startVideo = () => {\n    this._binder.nativeModule.startVideo(ControllableModuleType.GROUP_CALL, this._roomId);\n\n    // NOTE: native doesn't have onLocalAudioSettingsChanged event\n    this._props.isVideoEnabled = true;\n    this._internalEvents.emit('onPropertyUpdatedManually', this);\n  };\n\n  /**\n   * Toggles the selection between the front and the back camera.\n   *\n   * on Android, In case of more than two cameras, the next camera will be selected.\n   * If the last camera is already selected, the first one will be selected again.\n   *\n   * @since 1.0.0\n   */\n  public switchCamera = () => {\n    return this._binder.nativeModule.switchCamera(ControllableModuleType.GROUP_CALL, this._roomId);\n  };\n}\n"],"mappings":";;;;;;;AACA;;;;AAIO,MAAMA,gBAAN,CAAiF;EACtF;EACiB,OAAHC,GAAG,CACfC,MADe,EAEfC,cAFe,EAGfC,KAHe,EAIfC,MAJe,EAKf;IACA,IAAI,CAACD,KAAL,EAAY,OAAO,IAAP;IAEZ,MAAME,gBAAgB,GAAG,IAAIN,gBAAJ,CAAqBE,MAArB,EAA6BC,cAA7B,EAA6CC,KAA7C,EAAoDC,MAApD,CAAzB;IACA,OAAOC,gBAAgB,CAACC,eAAjB,CAAiCH,KAAjC,CAAP;EACD;;EAEDI,WAAW,CACTN,MADS,EAETC,cAFS,EAGTC,KAHS,EAITC,MAJS,EAKT;IAAA;;IAAA;;IAAA;;IAAA;;IAAA,wCAoDsB,MAAM;MAC5B,KAAKI,OAAL,CAAaC,YAAb,CAA0BC,cAA1B,CAAyCC,6BAAA,CAAuBC,UAAhE,EAA4E,KAAKC,OAAjF,EAD4B,CAG5B;;;MACA,KAAKC,MAAL,CAAYC,cAAZ,GAA6B,KAA7B;;MACA,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,2BAA1B,EAAuD,IAAvD;IACD,CA1DC;;IAAA,0CAmEwB,MAAM;MAC9B,KAAKT,OAAL,CAAaC,YAAb,CAA0BS,gBAA1B,CAA2CP,6BAAA,CAAuBC,UAAlE,EAA8E,KAAKC,OAAnF,EAD8B,CAG9B;;;MACA,KAAKC,MAAL,CAAYC,cAAZ,GAA6B,IAA7B;;MACA,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,2BAA1B,EAAuD,IAAvD;IACD,CAzEC;;IAAA,mCAkFiB,MAAM;MACvB,KAAKT,OAAL,CAAaC,YAAb,CAA0BU,SAA1B,CAAoCR,6BAAA,CAAuBC,UAA3D,EAAuE,KAAKC,OAA5E,EADuB,CAGvB;;;MACA,KAAKC,MAAL,CAAYM,cAAZ,GAA6B,KAA7B;;MACA,KAAKJ,eAAL,CAAqBC,IAArB,CAA0B,2BAA1B,EAAuD,IAAvD;IACD,CAxFC;;IAAA,oCAiGkB,MAAM;MACxB,KAAKT,OAAL,CAAaC,YAAb,CAA0BY,UAA1B,CAAqCV,6BAAA,CAAuBC,UAA5D,EAAwE,KAAKC,OAA7E,EADwB,CAGxB;;;MACA,KAAKC,MAAL,CAAYM,cAAZ,GAA6B,IAA7B;;MACA,KAAKJ,eAAL,CAAqBC,IAArB,CAA0B,2BAA1B,EAAuD,IAAvD;IACD,CAvGC;;IAAA,sCAiHoB,MAAM;MAC1B,OAAO,KAAKT,OAAL,CAAaC,YAAb,CAA0Ba,YAA1B,CAAuCX,6BAAA,CAAuBC,UAA9D,EAA0E,KAAKC,OAA/E,CAAP;IACD,CAnHC;;IACA,KAAKL,OAAL,GAAeP,MAAf;IACA,KAAKe,eAAL,GAAuBd,cAAvB;IACA,KAAKY,MAAL,GAAcX,KAAd;IACA,KAAKU,OAAL,GAAeT,MAAf;EACD;;EAOOE,eAAe,CAACH,KAAD,EAA+B;IACpD,KAAKW,MAAL,GAAcX,KAAd;IACA,OAAO,IAAP;EACD;;EAEuB,IAAboB,aAAa,GAAG;IACzB,OAAO,KAAKT,MAAL,CAAYS,aAAnB;EACD;;EACc,IAAJC,IAAI,GAAG;IAChB,OAAO,KAAKV,MAAL,CAAYU,IAAnB;EACD;;EACe,IAALC,KAAK,GAAG;IACjB,OAAO,KAAKX,MAAL,CAAYW,KAAnB;EACD;;EACmB,IAATC,SAAS,GAAG;IACrB,OAAO,KAAKZ,MAAL,CAAYY,SAAnB;EACD;;EACkB,IAARC,QAAQ,GAAG;IACpB,OAAO,KAAKb,MAAL,CAAYa,QAAnB;EACD;;EACkB,IAARC,QAAQ,GAAG;IACpB,OAAO,KAAKd,MAAL,CAAYc,QAAnB;EACD;;EACwB,IAAdb,cAAc,GAAG;IAC1B,OAAO,KAAKD,MAAL,CAAYC,cAAnB;EACD;;EACwB,IAAdK,cAAc,GAAG;IAC1B,OAAO,KAAKN,MAAL,CAAYM,cAAnB;EACD;;EACmB,IAATS,SAAS,GAAG;IACrB,OAAO,KAAKf,MAAL,CAAYe,SAAnB;EACD;EAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AAtEwF"}